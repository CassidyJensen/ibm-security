////
/// Type layout component.
/// @group type-layout
/// @copyright IBM Security 2019 - 2020
////

@import '@carbon/layout/scss/breakpoint';
@import '@carbon/layout/scss/mini-unit';
@import '@carbon/layout/scss/spacing';
@import '@carbon/themes/scss/tokens';
@import '@carbon/type/scss/styles';

@import '../StructuredList/index';

@import '../Component/mixins';

@import 'variables';

@mixin description-list--stacked {
  display: block;
  padding-left: 0;
}

@mixin description-list__padding($top, $right, $bottom, $left) {
  @include carbon--breakpoint($name: md) {
    padding-left: $left;
  }

  padding-top: $top;
  padding-right: $right;
  padding-bottom: $bottom;
}

@include security--component($name: $type-layout__name) {
  $root: &;

  @include carbon--type-style($name: body-short-01);

  max-width: unset;
  min-width: unset;
  margin-bottom: $carbon--spacing-07;

  &__row {
    border-width: 0;

    &:first-of-type > #{$root}__cell {
      padding-top: 0;
    }

    &:last-of-type > #{$root}__cell {
      padding-bottom: 0;
    }
  }

  &__cell {
    @include description-list--stacked;

    @include description-list__padding(
      $top: $carbon--spacing-03,
      $right: $carbon--spacing-06,
      $bottom: $carbon--spacing-03,
      $left: $carbon--spacing-03
    );

    @include carbon--breakpoint($name: md) {
      display: table-cell;
    }

    color: $text-01;
  }

  &--lg &__cell {
    @include description-list__padding(
      $top: $carbon--spacing-05,
      $right: $carbon--spacing-06,
      $bottom: $carbon--spacing-05,
      $left: $carbon--spacing-05
    );
  }

  &--sm &__cell {
    @include carbon--type-style($name: caption-01);

    @include description-list__padding(
      $top: $carbon--spacing-02,
      $right: $carbon--spacing-06,
      $bottom: $carbon--spacing-02,
      $left: $carbon--spacing-02
    );
  }

  &--xs &__cell {
    @include carbon--type-style($name: caption-01);

    @include description-list__padding(
      $top: $carbon--spacing-02,
      $right: $carbon--spacing-02,
      $bottom: $carbon--spacing-02,
      $left: $carbon--spacing-02
    );
  }

  // xs size should always have a little left padding:
  &:not(&--xs) #{$root}__cell:first-of-type {
    padding-left: 0;
  }

  &--stacked &__cell {
    @include description-list--stacked;
  }

  &__cell:first-of-type {
    color: $text-02;
    width: 1%;
    white-space: nowrap;
  }

  &__cell:last-of-type {
    padding-right: 0;
  }

  &__cell ul {
    padding-left: 0;
    margin-top: 0;
    margin-bottom: 0;
    list-style: none;

    li {
      margin-bottom: carbon--mini-units($count: 1);
    }
  }

  &--bordered &__row {
    border-bottom: 1px solid $ui-03;

    &:last-child {
      border-width: 0;
    }
  }
}
